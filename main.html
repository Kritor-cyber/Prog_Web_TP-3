<!DOCTYPE html>

<!-- Redesign. -->

<html lang="fr" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <metaname ="viewport" content="width=device-width" />
    <title>TP 3</title>
    <link rel="stylesheet" type="text/css" href="style_main.css" />
</head>
<body class="main">
    <div id="imgContainer">
        <img src="https://media1.tenor.com/images/9aff252fc609401538aae49e54bcb219/tenor.gif?itemid=20598651" />
    </div>

    <center>
        <div class="mainBody">
            <form name="coord">
                <fieldset>
                    <legend>Coordonnées</legend>
                    <div id="buttonsContainer">
                        <input type="text" class="entree" id="name" name="user_name" placeholder="Dupont" class="textZone" required />
                        <input type="text" class="entree" id="firstname" name="user_firstname" placeholder="Michel" class="textZone" required />
                        <input type="email" class="entree" id="email" name="user_email" placeholder="michel.dupont@dupont.dupont" class="textZone" required />
                        <select id="role">
                            <option selected>Etudiant</option>
                            <option>Enseignant</option>
                        </select>
                    </div>

                    <div>
                        <button type="button" onclick="ajouter()">Ajouter</button>    <!-- Le bouton fonctionne (on a la popup) mais il est nécessaire de remplir les champs avant -->
                        <button type="reset">Tout supprimer</button>
                    </div>
                </fieldset>
            </form>

            <table id="tableau">
                <thead>
                    <tr>
                        <th class="cellule">Prénom</th>
                        <th class="cellule">Prénom</th>
                        <th class="cellule">Email</th>
                        <th class="cellule">Rôle</th>
                    </tr>
                    <!-- Est Finalement INUTILE <tr id="bodyTableau"><!-- Préparation pour l'ajout en js de nouveaux éléments </tr> -->
                </thead>
            </table>
        </div>
    </center>



    <footer style="position: fixed; bottom: 0px; left: 0px;"><p>Thibault DENIER<br>Ludovic LIU CHI PIOA</p></footer>


    <script>
        console.log("un message dans la console");

        var tr = document.createElement("tr");
        let td = [document.createElement("td"), document.createElement("td"), document.createElement("td"), document.createElement("td")];
        td[0].textContent = "Michel";
        td[1].textContent = "Dupont";
        td[2].textContent = "michel@dupont.test";
        td[3].textContent = "Enseignant";

        for (var i = 0; i < 4; i++) {
            tr.appendChild(td[i]);
        }

        function ajouter() {
            alert();

            // Ajout de l'affichage dans la console de la valeur du champ prénom (2 méthodes permettant de récupérer la valeur du champ)
            //console.log(document.getElementById("firstname").value);
            console.log(document.forms.coord.user_firstname.value);

            // Nous n'avons pour le moment qu'un tableau, donc nous lui avons assigné un id pour le retrouver facilement (avec classe, il aurait fallu connaitre sa position dans la liste des éléments de cette classe -ici 0 car un élément-)
            console.log(document.getElementById("tableau")); // Nous constatons que ce n'est pas du texte qui est affiché dans la console, mais la liste des éléments caractérisants le tableau sur la page
            document.getElementById("tableau").appendChild(tr);
        }

        ajouter(); // On a bien une popup vide qui apparait à chaque rechargement de la page
    </script>
</body>
</html>